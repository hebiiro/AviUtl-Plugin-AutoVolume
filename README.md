# AviUtl プラグイン - オートボリューム

指定されたレイヤーに音声アイテムがある場合に音量を自動で調整します。<br>
例えば「セリフの所だけ BGM を小さくする」といったことができます。<br>
[最新バージョンをダウンロード](../../releases/latest/)

## 導入方法

以下のファイルを AviUtl の Plugins フォルダに入れてください。
* AutoVolume.auf

## 使用方法

* 拡張編集ウィンドウのタイムラインで右クリックして、「フィルタオブジェクトの追加」＞「オートボリューム」を選択します。
* 音量を小さくしたい音声アイテムより下にオートボリュームアイテムを配置します。
* オートボリュームアイテムより下に監視対象となる音声アイテムを配置します。

## 設定

* ```音量L``` 左の音量を % で指定します。例えば 20 を指定すると音量が 20% になります。モノラルの場合はこちらの値が使用されます。
* ```音量R``` 右の音量を % で指定します。例えば 20 を指定すると音量が 20% になります。モノラルの場合はこちらの値は使用されません。
* ```除外ﾚｲﾔｰ数``` 除外するレイヤー数を指定します。例えば ```除外ﾚｲﾔｰ数``` を 2、```対象ﾚｲﾔｰ数``` を 6 に設定すると、オートボリュームアイテムの真下にある 2 個のレイヤーは無視され、3 個目のレイヤーから数えて 6 個のレイヤーが監視対象になります。
* ```対象ﾚｲﾔｰ数``` 監視対象となるレイヤーを指定します。ここで指定されたレイヤーに音声アイテムがある場合に音量が調整されます。0 を指定するとオートボリュームアイテムより下の全てのレイヤーが監視対象になります。
* ```ﾌｪｰﾄﾞｲﾝ``` 音量のフェードイン時間をミリ秒単位で指定します。例えば 250 を指定すると、音声アイテムの開始時間 - 0.25 秒から音声アイテムの開始時間までの間に音量が少しずつ減少します。
* ```ﾌｪｰﾄﾞｱｳﾄ``` 音量のフェードアウト時間をミリ秒単位で指定します。例えば 777 を指定すると、音声アイテムの終了時間から音声アイテムの終了時間 + 0.777 秒までの間に音量が少しずつ増加します。
* ```開始ﾌﾞﾗﾝｸ``` 音声アイテムの開始ブランクをミリ秒単位で指定します。例えば 500 を指定すると、音声アイテムの開始時間 - 0.5 秒から音量が調整されるようになります。
* ```終了ﾌﾞﾗﾝｸ```  音声アイテムの開始ブランクをミリ秒単位で指定します。例えば 1500 を指定すると、音声アイテムの終了時間 + 1.5 秒まで音量が調整されるようになります。

## 注意事項

* AviUtl ウィンドウのメニューで「フィルタ」＞「オートボリューム」にチェックを入れないようにしてください。
* AviUtl ウィンドウのメニューで「設定」＞「オートボリュームの設定」にチェックを入れないようにしてください。
* オートボリュームは『拡張編集のプラグイン』のように振る舞うので、これらの『AviUtl のプラグイン』として設定は意味がないです。

## 更新履歴

* 1.0.1 - 2023/05/18 FPS の計算を間違えていたので修正
* 1.0.0 - 2023/05/17 初版

## 動作確認

* (必須) AviUtl 1.10 & 拡張編集 0.92 http://spring-fragrance.mints.ne.jp/aviutl/
* (共存確認) patch.aul r42 https://scrapbox.io/ePi5131/patch.aul

## クレジット

* aviutl_exedit_sdk https://github.com/ePi5131/aviutl_exedit_sdk
* Common Library https://github.com/hebiiro/Common-Library

## 作成者情報

* 作成者 - 蛇色 (へびいろ)
* GitHub - https://github.com/hebiiro
* Twitter - https://twitter.com/io_hebiiro

## 免責事項

この作成物および同梱物を使用したことによって生じたすべての障害・損害・不具合等に関しては、私と私の関係者および私の所属するいかなる団体・組織とも、一切の責任を負いません。各自の責任においてご使用ください。
